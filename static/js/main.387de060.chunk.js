(this["webpackJsonpdraft-hw-03"]=this["webpackJsonpdraft-hw-03"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__35498",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1Euv0"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1xRjb",Modal:"Modal_Modal__NJxJk"}},25:function(e,t,a){e.exports={Container:"Container_Container__syArW"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__23AXw"}},27:function(e,t,a){e.exports={Button:"Button_Button__1p0Ab"}},29:function(e,t,a){e.exports={Loader:"Loader_Loader__3yOBW"}},35:function(e,t,a){},7:function(e,t,a){e.exports={SearchForm:"Searchbar_SearchForm__3JBV6",SearchFormButton:"Searchbar_SearchFormButton__1-5up",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2gemD",SearchFormInput:"Searchbar_SearchFormInput__3owjI",Searchbar:"Searchbar_Searchbar__2c73_"}},76:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(4),u=a.n(o),s=(a(35),a(6)),i=a.n(s),l=a(16),m=a(11),b=a(5),j=a(9),h=(a(37),a(25)),d=a.n(h),p=function(e){var t=e.children;return Object(r.jsx)("div",{className:d.a.Container,children:t})},f=a(13),g=a.n(f),O=a(2),x=a.n(O);g.a.defaults.baseURL="https://pixabay.com/api";var _=function(){var e=Object(m.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pictureSearch,r=t.page,e.next=3,g.a.get("/?key=".concat("18692705-ed4727d48f1212ef902c664a7","&q=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12&page=").concat(r)).then((function(e){return e.data.hits}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();_.propTypes={pictureSearch:x.a.string.isRequired,page:x.a.number.isRequired};var S=_,v=a(7),I=a.n(v);var y=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(b.a)(a,2),o=c[0],u=c[1];return Object(r.jsx)("header",{className:I.a.Searchbar,children:Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===o.trim())return j.b.error("Enter a name for the picture!");t(o),u("")},className:I.a.SearchForm,children:[Object(r.jsx)("button",{type:"submit",className:I.a.SearchFormButton,children:Object(r.jsx)("span",{className:I.a.SearchFormButtonLabel,children:"Search"})}),Object(r.jsx)("input",{className:I.a.SearchFormInput,type:"text",name:"pictureName",value:o,onChange:function(e){u(e.target.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},w=a(26),L=a.n(w),F=a(14),N=a.n(F),B=function(e){var t=e.src,a=e.tags,n=e.largeImageURL,c=e.onSetImageData;return Object(r.jsx)("li",{className:N.a.ImageGalleryItem,children:Object(r.jsx)("img",{src:t,alt:a,className:N.a.ImageGalleryItemImage,onClick:function(){c({largeImageURL:n,tags:a})}})})},k=function(e){var t=e.picture,a=e.setImageData;return Object(r.jsx)("ul",{className:L.a.ImageGallery,children:t.map((function(e,t){var n=e.webformatURL,c=e.largeImageURL,o=e.tags;return Object(r.jsx)(B,{onSetImageData:a,src:n,largeImageURL:c,tags:o},t)}))})},C=a(15),G=a.n(C),R=document.querySelector("#modal-root");function E(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(r.jsx)("div",{className:G.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(r.jsx)("div",{className:G.a.Modal,children:a})}),R)}var M=a(27),U=a.n(M),D=function(e){var t=e.onLoadMore;return Object(r.jsx)("button",{onClick:function(){return t()},type:"button",className:U.a.Button,children:"Load more"})},J=a(28),q=a.n(J),A=a(29),T=a.n(A);function W(){return Object(r.jsx)(q.a,{className:T.a.Loader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}var P="idle",z="pending",H="resolved",V="rejected";function X(){var e=Object(n.useState)("mountain"),t=Object(b.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1),u=Object(b.a)(o,2),s=u[0],h=u[1],d=Object(n.useState)([]),f=Object(b.a)(d,2),g=f[0],O=f[1],x=Object(n.useState)(null),_=Object(b.a)(x,2),v=_[0],I=_[1],w=Object(n.useState)(null),L=Object(b.a)(w,2),F=L[0],N=L[1],B=Object(n.useState)(null),C=Object(b.a)(B,2),G=C[0],R=C[1],M=Object(n.useState)(P),U=Object(b.a)(M,2),J=U[0],q=U[1];Object(n.useEffect)((function(){q(z),Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S({pictureSearch:a,page:s});case 3:if(!((t=e.sent).length<1)){e.next=9;break}return j.b.info("Not found!"),R(!0),q(V),e.abrupt("return");case 9:O((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),q(H),1!==s&&A(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),R(e.t0),q(V);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()}),[a,s]);var A=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(r.jsxs)(p,{children:[Object(r.jsx)(y,{onSubmit:function(e){a!==e&&(O([]),h(1),R(!1),c(e))}}),J===V&&G&&Object(r.jsx)("p",{children:"Whoops, something went wrong "}),J===z&&Object(r.jsx)(W,{}),Object(r.jsx)(k,{picture:g,setImageData:function(e){var t=e.largeImageURL,a=e.tags;I(t),N(a)}}),g.length>0&&J===H&&Object(r.jsx)(D,{onLoadMore:function(){h((function(e){return e+1}))}}),v&&Object(r.jsx)(E,{onClose:function(){I("")},children:Object(r.jsx)("img",{src:v,alt:F})}),Object(r.jsx)(j.a,{autoClose:3e3})]})}u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(X,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.387de060.chunk.js.map